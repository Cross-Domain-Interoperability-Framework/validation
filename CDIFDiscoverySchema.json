{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "title": "CDIF Discovery metadata schema",
  "description": "JSON schema for JSON-LD documents that describe science datasets for the CDIF discovery profile. Validates discovery metadata (cdifMandatory + cdifOptional) without data description extensions. Distribution supports basic DataDownload and WebAPI patterns. Based on CDIF building block profile CDIFDiscovery. 2026-02-20 SMR derived from CDIFCompleteSchema.json.",
  "properties": {
    "@context": {
      "type": "object",
      "properties": {
        "schema": {
          "const": "http://schema.org/"
        },
        "dcterms": {
          "const": "http://purl.org/dc/terms/"
        },
        "geosparql": {
          "const": "http://www.opengis.net/ont/geosparql#"
        },
        "spdx": {
          "const": "http://spdx.org/rdf/terms#"
        },
        "cdi": {
          "const": "http://ddialliance.org/Specification/DDI-CDI/1.0/RDF/"
        },
        "csvw": {
          "const": "http://www.w3.org/ns/csvw#"
        },
        "prov": {
          "const": "http://www.w3.org/ns/prov#"
        }
      },
      "required": [
        "schema",
        "dcterms",
        "geosparql",
        "spdx",
        "cdi"
      ]
    },
    "@id": {
      "type": "string",
      "description": "The URI for the resource should be the @id value for the root of the JSON instance document tree. Note that this identifier can be interpreted to identify the resource that is the subject of this metadata record, or the JSON-LD object that is the digital object containing the metadata information."
    },
    "@type": {
      "description": "a schema.org Class that specifies the expected information content for the metadata record. For CDIF, 'schema:Dataset' is required, but other possible values (e.g. CreativeWork, SoftwareApplication, Product, WebAPI) are sometimes included to enable the schema.org properties used to describe the resource without schema.org validation errors.",
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "schema:CreativeWork",
          "schema:SoftwareApplication",
          "schema:SoftwareSourceCode",
          "schema:Product",
          "schema:WebAPI",
          "schema:Dataset",
          "schema:DigitalDocument",
          "schema:Collection",
          "schema:ImageObject",
          "schema:DataCatalog",
          "schema:DefinedTermSet"
        ],
        "default": "schema:Dataset"
      },
      "minItems": 1,
      "contains": {
        "const": "schema:Dataset"
      }
    },
    "schema:name": {
      "type": "string",
      "minLength": 5,
      "description": "A descriptive name of a dataset (e.g., 'Snow depth in Northern Hemisphere'). The name should uniquely identify the described resource for human use, in the scope of the metadata catalog containing this metadata record."
    },
    "schema:additionalType": {
      "description": "identifiers for datatypes from other vocabularies (not schema.org) that apply to this metadata.",
      "type": "array",
      "minItems": 0,
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "$ref": "#/$defs/definedTerm_type"
          }
        ]
      }
    },
    "schema:description": {
      "type": "string",
      "description": "A short summary describing a dataset. This text will be indexed by search applications, so the more information here, the better."
    },
    "schema:identifier": {
      "description": "The primary identifier for the dataset; other identifiers should be listed in the sameAs field. Schema.org has three ways of encoding identifiers-- a text description, a URL, or by using the schema:PropertyValue field. The Science on Schema.org guidance strongly recommends using the PropertyValue approach. see https://github.com/ESIPFed/science-on-schema.org   .... Dataset.md#identifier.  Ideally, for any given data provided they would provide identifiers either all as strings or all as identifier_type.",
      "anyOf": [
        {
          "$ref": "#/$defs/identifier_type"
        },
        {
          "type": "string"
        }
      ]
    },
    "schema:sameAs": {
      "description": "The other identifiers for the dataset. Schema.org has three ways of encoding identifiers-- a text description, a URL, or by using the schema:PropertyValue field. The Science on Schema.org guidance strongly recommends using the PropertyValue approach. see https://github.com/ESIPFed/science-on-schema.org   .... Dataset.md#identifier.",
      "type": "array",
      "minItems": 1,
      "items": {
        "anyOf": [
          {
            "$ref": "#/$defs/identifier_type"
          },
          {
            "type": "string"
          }
        ]
      }
    },
    "schema:version": {
      "type": [
        "string",
        "number"
      ],
      "description": "The version number or identifier for this dataset (text or numeric). The values should sort from oldest to newest using an alphanumeric sort on version strings"
    },
    "schema:keywords": {
      "description": "Keywords are an array of strings, an array of schema:DefinedTerms, or some combination of these. If you have information about a controlled vocabulary from which keywords come from, use schema:DefinedTerm to descibe that keyword. This allowed variability makes parsing metadata hard; recommend using DefinedTerm for all keywords if any of them are from a known vocabulary, otherwise an array of strings.",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "$ref": "#/$defs/definedTerm_type"
          },
          {
            "type": "string"
          }
        ]
      }
    },
    "schema:url": {
      "type": "string",
      "description": "Web Location of a page describing the dataset (landing page), typically providing links or instructions to get the actual resource content; analogous to dcat:accessURL. If a direct link is available to get the data, put in distribution/contentUrl"
    },
    "schema:inLanguage": {
      "type": "string",
      "description": "the language of the dataset content"
    },
    "schema:dateModified": {
      "type": "string",
      "description": "ISO8601 formatted date (and optional time if relevant) when Dataset was last updated"
    },
    "schema:datePublished": {
      "type": "string",
      "description": "ISO8601 formatted date (and optional time if relevant) when Dataset was made public."
    },
    "schema:license": {
      "description": "legal statement of conditions for use and access; recommend using schema:CreativeWork to provide a label (name) for the license, and an identifier. Sources of license identifiers: https://opensource.org/licenses/, https://creativecommons.org/about/cclicenses/, https://spdx.org/licenses/, http://cor.esipfed.org/ont/earthcube/swl. If only a string is provided, it should be an identifier for the license, ideally a resolvable URI",
      "type": "array",
      "minItems": 0,
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "object",
            "properties": {
              "@id": {
                "type": "string",
                "description": "a reference to a license definition"
              }
            }
          },
          {
            "$ref": "#/$defs/labeledLink_type"
          }
        ]
      }
    },
    "schema:conditionsOfAccess": {
      "description": "text statement of conditions for use and access; if an online resource documents the restrictions or a URI is used to identify the conditions, recommend using schema:CreativeWork to provide a label (name) and an identifier (URI or URL). ",
      "type": "array",
      "minItems": 0,
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "object",
            "properties": {
              "@id": {
                "type": "string",
                "description": "a reference to a resource defining conditions of Access"
              }
            }
          },
          {
            "$ref": "#/$defs/labeledLink_type"
          }
        ]
      }
    },
    "schema:creator": {
      "description": "author or orginator of intellectual content of dataset. Uset the JSON-LD @list construct to preserve author order. Use contributor with the Role property to specify other roles related to creation or stewardship of the resource.",
      "type": "object",
      "properties": {
        "@list": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/person_type"
              },
              {
                "$ref": "#/$defs/organization_type"
              },
              {
                "type": "object",
                "properties": {
                  "@id": {
                    "type": "string"
                  }
                },
                "required": [
                  "@id"
                ]
              }
            ]
          }
        }
      }
    },
    "schema:contributor": {
      "description": "other parties who played a role in production of dataset",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "object",
            "properties": {
              "@id": {
                "type": "string",
                "description": "a identifier for an agent defined in this metadata, or externally; must be dereferenceable"
              }
            }
          },
          {
            "$ref": "#/$defs/person_type"
          },
          {
            "$ref": "#/$defs/organization_type"
          },
          {
            "type": "object",
            "description": "For more granularity on how a person contributed to a Dataset, use schema:Role. The schema.org documentation does not state that the Role type is an expected data type of author, creator and contributor, but that is addressed in this blog post (http://blog.schema.org/2014/06/introducing-role.html). see https://github.com/ESIPFed/science-on-schema.org/blob/develop/guides/Dataset.md#roles-of-people",
            "properties": {
              "@type": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "schema:Role"
                  },
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "contains": {
                      "const": "schema:Role"
                    }
                  }
                ]
              },
              "schema:roleName": {
                "type": "string"
              },
              "schema:contributor": {
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "@id": {
                        "type": "string",
                        "description": "a identifier for an agent defined in this metadata, or externally; must be dereferenceable"
                      }
                    }
                  },
                  {
                    "$ref": "#/$defs/person_type"
                  },
                  {
                    "$ref": "#/$defs/organization_type"
                  }
                ]
              }
            }
          }
        ]
      }
    },
    "schema:publisher": {
      "description": "Party who made the dataset publicly available",
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@id": {
              "type": "string",
              "description": "a identifier for an agent defined in this metadata, or externally; must be dereferenceable"
            }
          }
        },
        {
          "$ref": "#/$defs/person_type"
        },
        {
          "$ref": "#/$defs/organization_type"
        }
      ]
    },
    "schema:provider": {
      "description": "Party who maintains the distribution options for the dataset. If there are multiple distributions from different providers, use the provider property on distribution/DataDownload",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "$ref": "#/$defs/person_type"
          },
          {
            "$ref": "#/$defs/organization_type"
          },
          {
            "type": "object",
            "properties": {
              "@id": {
                "type": "string"
              }
            },
            "required": [
              "@id"
            ]
          }
        ]
      }
    },
    "schema:funding": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "@type": {
            "anyOf": [
              {
                "type": "string",
                "const": "schema:MonetaryGrant"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "contains": {
                  "const": "schema:MonetaryGrant"
                }
              }
            ]
          },
          "schema:identifier": {
            "$ref": "#/$defs/identifier_type",
            "description": "identifier for a particular grant"
          },
          "schema:name": {
            "type": "string",
            "description": "title of the grant"
          },
          "schema:funder": {
            "$ref": "#/$defs/funder_type"
          }
        }
      }
    },
    "schema:temporalCoverage": {
      "description": "The time interval during which data was collected or observations were made; or a time period that an activity or collection is linked to intellectually or thematically (for example, 1997 to 1998; the 18th century) (see https://documentation.ardc.edu.au/display/DOC/Temporal+coverage). For documentation of Earth Science, Paleobiology or Paleontology datasets, we are interested in the second case-- the time period that data are linked to thematically.",
      "type": "array",
      "items": {
        "$ref": "#/$defs/temporalCoverage_type"
      }
    },
    "schema:spatialCoverage": {
      "description": "To specify location that is the subject of resource content; use schema.org place names, bounding box, point or optional OGC WKT geometry.",
      "type": "array",
      "items": {
        "$ref": "#/$defs/spatialCoverage_type"
      }
    },
    "schema:distribution": {
      "description": "Specifies how to download the data in a specific format or access via a web API. At the discovery level, distribution describes basic access patterns without data description details.",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "$ref": "#/$defs/distributionBase_type"
          },
          {
            "$ref": "#/$defs/webapi_type"
          }
        ]
      }
    },
    "schema:variableMeasured": {
      "description": "What does the dataset measure? (e.g., temperature, pressure)",
      "type": "array",
      "items": {
        "$ref": "#/$defs/variableMeasured_type"
      }
    },
    "schema:measurementTechnique": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "$ref": "#/$defs/definedTerm_type"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/definedTerm_type"
              }
            ]
          }
        }
      ],
      "description": "A text description of the measurement method used to determine values for this variable. If standard measurement protocols are defined and registered, these can be identified via http URI's. Note that if diefferent techniques are used for different variables, measurementTechnique can also be assigned in the InstanceVariables in variableMeasured."
    },
    "schema:relatedLink": {
      "type": "array",
      "description": "",
      "items": {
        "type": "object",
        "properties": {
          "@type": {
            "anyOf": [
              {
                "type": "string",
                "const": "schema:LinkRole"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "contains": {
                  "const": "schema:LinkRole"
                }
              }
            ]
          },
          "schema:linkRelationship": {
            "anyOf": [
              {
                "$ref": "#/$defs/definedTerm_type"
              },
              {
                "type": "string"
              }
            ]
          },
          "schema:target": {
            "type": "object",
            "properties": {
              "@type": {
                "anyOf": [
                  {
                    "type": "string",
                    "const": "schema:EntryPoint"
                  },
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "contains": {
                      "const": "schema:EntryPoint"
                    }
                  }
                ]
              },
              "schema:encodingFormat": {
                "type": "string"
              },
              "schema:name": {
                "type": "string"
              },
              "schema:url": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "schema:publishingPrinciples": {
      "description": "FDOF digitalObjectMutability, RDA digitalObjectPolicy, FDOF PersistencyPolicy. Policies related to maintenance, update, expected time to live. If an online resource documents the policies or a URI is used to identify the conditions, recommend using schema:CreativeWork to provide a label (name) and an identifier (URI or URL).",
      "type": "array",
      "minItems": 0,
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "$ref": "#/$defs/labeledLink_type"
          }
        ]
      }
    },
    "prov:wasGeneratedBy": {
      "description": "Brief information about instruments, software or experimental protocols used",
      "type": "array",
      "items": {
        "$ref": "#/$defs/generatedBy_type"
      }
    },
    "prov:wasDerivedFrom": {
      "description": "Brief information about sources of data used in aggregate datasets",
      "type": "array",
      "items": {
        "$ref": "#/$defs/derivedFrom_type"
      }
    },
    "dqv:hasQualityMeasurement": {
      "description": "Brief information quality measurements reported to assess the resource",
      "type": "array",
      "items": {
        "$ref": "#/$defs/qualityMeasure_type"
      }
    },
    "schema:subjectOf": {
      "type": "object",
      "description": "see https://github.com/Cross-Domain-Interoperability-Framework/Discovery/issues/13 for discussion on how to make assertion about the sample registration and metadata distinct from statements about the physical object",
      "properties": {
        "@type": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "contains": {
            "const": "schema:Dataset"
          },
          "minItems": 1
        },
        "schema:additionalType": {
          "type": "array",
          "description": "additional type assertions for the catalog record node. dcat:CatalogRecord is required.",
          "items": {
            "type": "string"
          },
          "contains": {
            "const": "dcat:CatalogRecord"
          },
          "minItems": 1
        },
        "@id": {
          "type": "string",
          "description": "identifier for the metadata record"
        },
        "schema:about": {
          "type": "object",
          "properties": {
            "@id": {
              "type": "string",
              "description": "this must be the @id value found in the metadata record this node describes"
            }
          }
        },
        "dcterms:conformsTo": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "@id": {
                "type": "string",
                "description": "uri for specifications that this metadata record conforms to. Minimimally should specify uri for CDIF discovery profile"
              }
            }
          },
          "minItems": 1,
          "description": "uri for specifications that this metadata record conforms to. Minimimally should specify uri for CDIF discovery profile. Implement as $def to facilitate extension for profiles that need to add conformance statements"
        },
        "schema:maintainer": {
          "description": "Responsible party for creation and/or maintenance of metadata. Should include person name and affiliation, or position name and affiliation, or just organization name. e-mail address is preferred contact information.",
          "oneOf": [
            {
              "$ref": "#/$defs/person_type"
            },
            {
              "$ref": "#/$defs/organization_type"
            }
          ]
        },
        "schema:sdDatePublished": {
          "description": "date of most recent update to the metadata content, extends iSamples schema",
          "type": "string",
          "format": "date"
        },
        "schema:includedInDataCatalog": {
          "type": "object",
          "description": "identify the data collection or repository that contains the described dataset. The value is expected to be a schema:DataCatalog",
          "properties": {
            "@id": {
              "type": "string",
              "description": "identifier for the containing catalog or repository; example data at https://github.com/ESIPFed/science-on-schema.org/blob/develop/guides/Dataset.md#catalog puts identifier here"
            },
            "@type": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "schema:DataCatalog"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "contains": {
                    "const": "schema:DataCatalog"
                  }
                }
              ]
            },
            "schema:name": {
              "type": "string"
            },
            "schema:url": {
              "type": "string",
              "description": "locator to access a landing page for the collection or catalog"
            },
            "schema:identifier": {
              "$ref": "#/$defs/identifier_type",
              "description": "identifier for the collection or catalog; use identifier_type to provide information on identifier scheme and context for identifier"
            }
          }
        }
      },
      "required": [
        "schema:about",
        "dcterms:conformsTo",
        "schema:additionalType",
        "@type",
        "@id"
      ]
    }
  },
  "allOf": [
    {
      "required": [
        "@id",
        "@type",
        "@context",
        "schema:name",
        "schema:identifier",
        "schema:dateModified",
        "schema:subjectOf"
      ]
    },
    {
      "anyOf": [
        {
          "required": [
            "schema:url"
          ]
        },
        {
          "required": [
            "schema:distribution"
          ]
        }
      ]
    },
    {
      "anyOf": [
        {
          "required": [
            "schema:license"
          ]
        },
        {
          "required": [
            "schema:conditionsOfAccess"
          ]
        }
      ]
    }
  ],
  "$defs": {
    "action_type": {
      "type": "object",
      "description": "this element defines an action (operation) that can be invoked via messages using the protocol defined. In most cases this will be an http request via TCP/IP, but in desktop or LAN environments, other protocols might be used. The target property defines the endpoint and syntax for invoking the action. Result specifies the encoding format for the (possible) response(s) when the action is invoked. Object specifies the information model for the resource that is the object of the action. This approach is an adoptation of the Action Blog Post from schema.org (see https://schema.org/docs/actions.html, and https://github.com/schemaorg/suggestions-questions-brainstorming/issues/62) ",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "enum": [
                "schema:Action",
                "schema:SearchAction",
                "schema:CreateAction",
                "schema:MoveAction",
                "schema:UpdateAction"
              ],
              "default": "schema:Action"
            },
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "schema:Action",
                  "schema:SearchAction",
                  "schema:CreateAction",
                  "schema:MoveAction",
                  "schema:UpdateAction"
                ]
              },
              "default": [
                "schema:Action"
              ]
            }
          ]
        },
        "schema:name": {
          "type": "string",
          "description": "text label for the action"
        },
        "schema:target": {
          "$ref": "#/$defs/target_type",
          "description": "specifies the request target location and request syntax"
        },
        "schema:result": {
          "$ref": "#/$defs/result_type",
          "description": "specifies the serialization scheme (encoding format, information model) for expected representation of the data"
        },
        "schema:object": {
          "$ref": "#/$defs/object_type",
          "description": "specification of information model/schema for target resource. Only necessary if the request allow specifying the fields to include in the response"
        },
        "schema:query-input": {
          "$ref": "#/$defs/query-input_type",
          "description": "set of explanations of the parameters in the URL template for the target."
        }
      }
    },
    "target_type": {
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:EntryPoint"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:EntryPoint"
              }
            }
          ]
        },
        "schema:description": {
          "type": "string"
        },
        "schema:urlTemplate": {
          "type": "string",
          "description": "a templated URL; parameters are enclosed in curly braces ('{..}'); parameters MUST be documented in the query-input element. Template should be consitent with URI Template (https://datatracker.ietf.org/doc/html/rfc6570)",
          "examples": [
            "http://portal.chordsrt.com/api/v1/data.{encoding}; single parameter",
            "http://portal.chordsrt.com/api/v1/data.{encoding}?instruments={instruments}&start={start}&end={end} ; multiple parameters",
            "{endpoint}{encoding}; endpoint URL path is a parameter,should only appear in potential actions for API specification descriptions, which are generic-not specific to a particular endpoint."
          ]
        },
        "schema:httpMethod": {
          "title": "HTTP Method",
          "description": "only applicable if protocol is http or a protocol that tunnels on http",
          "type": "array",
          "items": {
            "type": "string",
            "default": "GET",
            "enum": [
              "GET",
              "PUT",
              "POST",
              "PATCH",
              "DELETE",
              "COPY",
              "HEAD",
              "OPTIONS",
              "PROPFIND"
            ]
          }
        },
        "schema:contentType": {
          "type": "array",
          "description": "The supported content type(s) for an EntryPoint response. a MIME type (https://www.iana.org/assignments/media-types/media-types.xhtml) that specifies the content type for messages in resonses from the service endpoint. This is a schema.org property, and is redundant with encodingFormat in the result property for the Action.",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "result_type": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "contains": {
            "const": "schema:DataDownload"
          },
          "minItems": 1
        },
        "schema:encodingFormat": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "schema:description": {
          "type": "string"
        }
      }
    },
    "query-input_type": {
      "type": "array",
      "minItems": 0,
      "items": {
        "type": "object",
        "properties": {
          "@id": {
            "type": "string"
          },
          "@type": {
            "anyOf": [
              {
                "type": "string",
                "const": "schema:PropertyValueSpecification"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "contains": {
                  "const": "schema:PropertyValueSpecification"
                }
              }
            ]
          },
          "schema:valueName": {
            "type": "string"
          },
          "schema:description": {
            "type": "string"
          },
          "schema:valueRequired": {
            "type": "boolean"
          },
          "schema:valuePattern": {
            "type": "string"
          }
        }
      }
    },
    "object_type": {
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:DataFeed"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:DataFeed"
              }
            }
          ]
        },
        "schema:description": {
          "type": "string"
        },
        "schema:variableMeasured": {
          "type": "object",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "schema:PropertyValue"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "contains": {
                    "const": "schema:PropertyValue"
                  }
                }
              ]
            },
            "schema:name": {
              "type": "string",
              "description": "name of the variable"
            },
            "schema:description": {
              "type": "string",
              "description": "example of documentation for a varible provided in the result.dataDownload"
            },
            "schema:propertyID": {
              "type": "string",
              "description": "URI for the property in some ontology"
            }
          }
        },
        "schema:encodingFormat-input": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "definedTerm_type": {
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:DefinedTerm"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:DefinedTerm"
              }
            }
          ]
        },
        "schema:name": {
          "type": "string",
          "minLength": 5,
          "description": "text label for the keyword that is useful to human user"
        },
        "schema:identifier": {
          "anyOf": [
            {
              "$ref": "#/$defs/identifier_type"
            },
            {
              "type": "string"
            }
          ]
        },
        "schema:inDefinedTermSet": {
          "type": "string",
          "description": "Identifier for the controlled vocabulary responsible for this keyword."
        },
        "schema:termCode": {
          "type": "string",
          "description": "A representative code for this keyword in the controlled vocabulary (Optional).  Analogous to skos:Notation"
        }
      },
      "allOf": [
        {
          "required": [
            "@type"
          ]
        },
        {
          "anyOf": [
            {
              "required": [
                "schema:name"
              ]
            },
            {
              "required": [
                "schema:identifier"
              ]
            },
            {
              "required": [
                "schema:termCode"
              ]
            }
          ]
        }
      ]
    },
    "distributionBase_type": {
      "type": "object",
      "description": "Implements schema:DataDownload and cdi:PhysicalDataset base properties.",
      "properties": {
        "@id": {
          "type": "string",
          "description": "identifier for this distribution description. Implements DDI-CDI identifier"
        },
        "@type": {
          "type": "array",
          "description": "Must include schema:DataDownload.",
          "items": {
            "type": "string"
          },
          "contains": {
            "const": "schema:DataDownload"
          },
          "minItems": 1
        },
        "schema:name": {
          "type": "string"
        },
        "schema:contentUrl": {
          "type": "string",
          "description": "maps to cdi:PhysicalDataSet/cdi:overview property"
        },
        "schema:description": {
          "type": "string"
        },
        "schema:encodingFormat": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "spdx:checksum": {
          "type": "object",
          "description": "A string value calculated from the content of the resource representation, used to test if content has been modified. The checksum is a property of a particular distribution/DataDownload. Implements DDI-CDI fingerprint",
          "properties": {
            "spdx:algorithm": {
              "type": "string"
            },
            "spdx:checksumValue": {
              "type": "string"
            }
          }
        },
        "schema:provider": {
          "type": "array",
          "description": "Party who maintains this particular distribution option for the dataset. Use this property if there are multiple distributions from different providers",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/person_type"
              },
              {
                "$ref": "#/$defs/organization_type"
              },
              {
                "type": "object",
                "properties": {
                  "@id": {
                    "type": "string"
                  }
                },
                "required": [
                  "@id"
                ]
              }
            ]
          }
        },
        "dcterms:conformsTo": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "@id": {
                "type": "string",
                "description": "uri for specifications that this physical file distribution."
              }
            }
          },
          "minItems": 1,
          "description": "uri for specifications that this distribution physical dataset"
        }
      },
      "required": [
        "schema:contentUrl",
        "@type"
      ]
    },
    "identifier_type": {
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:PropertyValue"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:PropertyValue"
              }
            }
          ]
        },
        "schema:propertyID": {
          "type": "string",
          "description": "identifier for the identifier schema, e.g. DOI, ARK.  Get values from https://registry.identifiers.org/registry/ for interoperability"
        },
        "schema:value": {
          "type": "string",
          "description": "the identifier string. E.g. doi:10.5066/F7VX0DMQ"
        },
        "schema:url": {
          "type": "string",
          "description": "web-resolveable string for the identifier; host name part is location of a resolver that will return some representation for the given identifier value. E.g. https://doi.org/10.5066/F7VX0DMQ "
        }
      },
      "allOf": [
        {
          "required": [
            "@type"
          ]
        },
        {
          "anyOf": [
            {
              "required": [
                "schema:value"
              ]
            },
            {
              "required": [
                "schema:url"
              ]
            }
          ]
        }
      ]
    },
    "spatialCoverage_type": {
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:Place"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:Place"
              }
            }
          ]
        },
        "schema:name": {
          "description": "multiple place names or DefinedTerms that have a place name and URI for the location",
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/definedTerm_type"
              }
            ]
          }
        },
        "schema:geo": {
          "description": "Either a bounding box, point location, or curvilinear trace.",
          "anyOf": [
            {
              "type": "object",
              "description": "A point location.",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "schema:GeoCoordinates"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "contains": {
                        "const": "schema:GeoCoordinates"
                      }
                    }
                  ]
                },
                "schema:latitude": {
                  "type": "number",
                  "minimum": -90,
                  "maximum": 90,
                  "description": "Latitude in decimal degrees, range -90 to 90"
                },
                "schema:longitude": {
                  "type": "number",
                  "minimum": -180,
                  "maximum": 180,
                  "description": "Longitude in decimal degrees, range -180 to 180"
                }
              },
              "required": [
                "@type",
                "schema:latitude",
                "schema:longitude"
              ]
            },
            {
              "type": "object",
              "description": "A schema:GeoShape bounding box.",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "schema:GeoShape"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "contains": {
                        "const": "schema:GeoShape"
                      }
                    }
                  ]
                },
                "schema:box": {
                  "type": "string",
                  "description": "A GeoShape box defines an area on the surface of the earth defined by point locations of the southwest corner and northeast corner of the rectangle in latitude-longitude coordinates."
                }
              },
              "required": [
                "@type",
                "schema:box"
              ]
            },
            {
              "type": "object",
              "description": "A schema:GeoShape curvilinear trace, for resource related to a linear trace like a ship track or airplane flight line",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "schema:GeoShape"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "contains": {
                        "const": "schema:GeoShape"
                      }
                    }
                  ]
                },
                "schema:line": {
                  "type": "string",
                  "description": "A GeoShape line defines a curvilinear geometry as a string of latitude-longitude coordinates."
                }
              },
              "required": [
                "@type",
                "schema:line"
              ]
            }
          ]
        },
        "geosparql:hasGeometry": {
          "type": "object",
          "description": "Optional geographic extent using wkt geometry.",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              ],
              "description": "MUST be sf: (<http://www.opengis.net/ont/sf#>) SimpleFeature geometry type."
            },
            "geosparql:asWKT": {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "geosparql:wktLiteral"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "contains": {
                        "const": "geosparql:wktLiteral"
                      }
                    }
                  ]
                },
                "@value": {
                  "type": "string",
                  "description": "a WKT geometry description string, e.g. 'POINT(-76 -18)'"
                }
              }
            },
            "geosparql:crs": {
              "type": "object",
              "properties": {
                "@id": {
                  "type": "string",
                  "description": "identifier string for coordinate reference system, e.g., 'CRS84'"
                }
              }
            }
          }
        }
      }
    },
    "timePosition_type": {
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "time:TimePosition"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "time:TimePosition"
              }
            }
          ]
        },
        "time:hasTRS": {
          "type": "string",
          "description": "identifier for a temporal reference system; default is million years before prsent as a decimal number",
          "default": "http://www.opengis.net/def/crs/OGC/0/ChronometricGeologicTime"
        },
        "time:numericPosition": {
          "type": "number"
        }
      }
    },
    "temporalCoverage_type": {
      "description": "The time interval during which data was collected or observations were made; or a time period that an activity or collection is linked to intellectually or thematically. NOTE-- context must include \"time\": \"http://www.w3.org/2006/time#\"}",
      "anyOf": [
        {
          "type": "object",
          "description": "a w3c time proper interval with bounds that are named time ordinal eras with identifier, e.g. geologic age.",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "time:ProperInterval"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "contains": {
                    "const": "time:ProperInterval"
                  }
                }
              ]
            },
            "schema:description": {
              "type": "string",
              "description": "free text description of the temporal interval"
            },
            "time:intervalStartedBy": {
              "type": "string",
              "format": "uri",
              "description": "identifier for a named time ordinal era that is older bound of time interval"
            },
            "time:intervalFinishedBy": {
              "type": "string",
              "format": "uri",
              "description": "identifier for a named time ordinal era that is younger bound of time interval"
            }
          }
        },
        {
          "type": "object",
          "description": "a w3c time proper interval with bounds that numeric ages.",
          "properties": {
            "@context": {
              "type": "object",
              "properties": {
                "time": {
                  "type": "string",
                  "const": "http://www.w3.org/2006/time#"
                },
                "schema": {
                  "type": "string",
                  "const": "http://schema.org/"
                }
              },
              "required": [
                "time",
                "schema"
              ],
              "additionalProperties": true,
              "description": "Must exactly match the specified @context object."
            },
            "@type": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "time:ProperInterval"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "contains": {
                    "const": "time:ProperInterval"
                  }
                }
              ]
            },
            "schema:description": {
              "type": "string",
              "description": "free text description of the temporal interval"
            },
            "time:hasBeginning": {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "time:Instant"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "contains": {
                        "const": "time:Instant"
                      }
                    }
                  ]
                },
                "time:inTimePosition": {
                  "$ref": "#/$defs/timePosition_type"
                }
              }
            },
            "time:hasEnd": {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "type": "string",
                      "const": "time:Instant"
                    },
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "contains": {
                        "const": "time:Instant"
                      }
                    }
                  ]
                },
                "time:inTimePosition": {
                  "$ref": "#/$defs/timePosition_type"
                }
              }
            }
          }
        },
        {
          "type": "string",
          "description": "Simple ISO8601 encoding of calendar date, dateTime, or time interval with calendar date bounds"
        }
      ]
    },
    "person_type": {
      "type": "object",
      "properties": {
        "@id": {
          "type": "string"
        },
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:Person"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:Person"
              }
            }
          ]
        },
        "schema:name": {
          "type": "string",
          "minLength": 5,
          "description": "string label for person that is meaningful for human users"
        },
        "schema:affiliation": {
          "$ref": "#/$defs/organization_type"
        },
        "schema:description": {
          "type": "string"
        },
        "schema:identifier": {
          "description": "identifier for person",
          "anyOf": [
            {
              "$ref": "#/$defs/identifier_type"
            },
            {
              "type": "string"
            }
          ]
        },
        "schema:contactPoint": {
          "description": "restrict to email only. Schema.org allows telephone and postal contacts as well",
          "type": "object",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "type": "string",
                  "const": "schema:ContactPoint"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "contains": {
                    "const": "schema:ContactPoint"
                  }
                }
              ]
            },
            "schema:email": {
              "type": "string"
            }
          }
        },
        "schema:alternateName": {
          "type": "string",
          "description": "other labels by which the person might be known"
        },
        "schema:sameAs": {
          "type": "array",
          "description": "other identifiers for the person",
          "items": {
            "type": "string"
          }
        }
      },
      "allOf": [
        {
          "required": [
            "@type"
          ]
        },
        {
          "anyOf": [
            {
              "required": [
                "schema:name"
              ]
            },
            {
              "required": [
                "schema:identifier"
              ]
            }
          ]
        }
      ]
    },
    "organization_type": {
      "type": "object",
      "properties": {
        "@id": {
          "type": "string"
        },
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:Organization"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:Organization"
              }
            }
          ]
        },
        "schema:additionalType": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "schema:FundingAgency",
                  "schema:Consortium",
                  "schema:Corporation",
                  "schema:EducationalOrganization",
                  "schema:FundingScheme",
                  "schema:GovernmentOrganization",
                  "schema:NGO",
                  "schema:Project",
                  "schema:ResearchOrganization"
                ]
              },
              {
                "$ref": "#/$defs/definedTerm_type"
              },
              {
                "type": "string"
              }
            ]
          }
        },
        "schema:name": {
          "type": "string",
          "minLength": 5,
          "description": "string label for organization that is meaningful for human users"
        },
        "schema:alternateName": {
          "type": "string",
          "description": "other labels by which the organization might be known"
        },
        "schema:description": {
          "type": "string"
        },
        "schema:identifier": {
          "description": "identifier for organization",
          "anyOf": [
            {
              "$ref": "#/$defs/identifier_type"
            },
            {
              "type": "string"
            }
          ]
        },
        "schema:sameAs": {
          "type": "array",
          "description": "other identifiers for the organization",
          "items": {
            "type": "string"
          }
        }
      },
      "allOf": [
        {
          "required": [
            "@type"
          ]
        },
        {
          "anyOf": [
            {
              "required": [
                "schema:name"
              ]
            },
            {
              "required": [
                "schema:identifier"
              ]
            }
          ]
        }
      ]
    },
    "funder_type": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@id": {
              "type": "string",
              "description": "a identifier for an agent defined in this metadata, or externally; must be dereferenceable"
            }
          }
        },
        {
          "$ref": "#/$defs/person_type"
        },
        {
          "$ref": "#/$defs/organization_type"
        }
      ]
    },
    "webapi_type": {
      "type": "object",
      "title": "Direct data access to a resource via web servcie",
      "description": "use schema.org Action to document url or url template and parameters to request data through a web accessible location. At this point, schema is set up for one action-- an HTTP Get that requests data. The url template parameters (in curly brackets '{}') specify query paramters to filter the source data, request particular output formats or other aspects of data.",
      "properties": {
        "@type": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "contains": {
            "const": "schema:WebAPI"
          },
          "minItems": 1
        },
        "schema:serviceType": {
          "description": "specify the kind of service. Ideally this should be a resolvable identifier.",
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/definedTerm_type"
            }
          ]
        },
        "schema:termsOfService": {
          "description": "Description of access privileges required to use the API, e.g. registration, licensing, payments.",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/labeledLink_type"
            }
          ]
        },
        "schema:documentation": {
          "description": "a document that provides a machine-actionable description of a service instance. Examples include OpenAPI documents, OGC Capabilities documents.",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/labeledLink_type"
            }
          ]
        },
        "schema:potentialAction": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/action_type"
          }
        }
      }
    },
    "variableMeasured_type": {
      "description": "Schema for variableMeasured property value. For CDIF, the values of variableMeasure must include DDI-CDI InstanceVariable type. In the schema here, schema.org properties are first, then DDI-CDI CDIF properties.",
      "type": "object",
      "properties": {
        "@type": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "allOf": [
            {
              "contains": {
                "const": "schema:PropertyValue"
              }
            },
            {
              "contains": {
                "const": "cdi:InstanceVariable"
              }
            }
          ],
          "minItems": 2
        },
        "@id": {
          "type": "string"
        },
        "schema:name": {
          "type": "string",
          "minLength": 5,
          "description": "this is the string label that is expected to be associated with the variable in the dataset serialization"
        },
        "schema:description": {
          "type": "string",
          "minLength": 10,
          "default": "missing"
        },
        "schema:propertyID": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "properties": {
                  "@id": {
                    "type": "string",
                    "description": "reference to a skos concept for the property"
                  }
                }
              },
              {
                "$ref": "#/$defs/definedTerm_type"
              }
            ]
          },
          "description": "identifier or name for the property concept quantified by the values in this variable slot."
        },
        "schema:measurementTechnique": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "object",
              "properties": {
                "@id": {
                  "type": "string",
                  "description": "reference to a skos concept for the property"
                }
              }
            },
            {
              "$ref": "#/$defs/definedTerm_type"
            }
          ],
          "description": "A text description of the measurement method used to determine values for this variable."
        },
        "schema:unitText": {
          "type": "string",
          "description": "A string that identifies a unit of measurement that applies to all values for this variable."
        },
        "schema:unitCode": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "object",
              "properties": {
                "@id": {
                  "type": "string",
                  "description": "reference to a skos concept for the property"
                }
              }
            },
            {
              "$ref": "#/$defs/definedTerm_type"
            }
          ],
          "description": "Value is expected to be TEXT or URL. We recommend providing an HTTP URI that identifies a unit of measure from a vocabulary accessible on the web."
        },
        "schema:minValue": {
          "type": "number",
          "description": " If the value for the variable is numeric, this is the minimum value that occurs in the dataset."
        },
        "schema:maxValue": {
          "type": "number",
          "description": " If the value for the variable is numeric, this is the maximum value that occurs in the dataset."
        },
        "schema:url": {
          "format": "uri",
          "type": "string",
          "description": "The recommendation is that schema:url should link to a web page that would be useful for a person to interpret the variable."
        },
        "cdi:intendedDataType": {
          "type": "string"
        },
        "cdi:role": {
          "type": "string",
          "description": "the value here specifies relation of the variable to the data, like the values from DDI-CDI dataStructureComponent type. could be enumeration {MeasureComponent, AttributeComponent, DimensionComponent} "
        },
        "cdi:describedUnitOfMeasure": {
          "$ref": "#/$defs/definedTerm_type"
        },
        "cdi:simpleUnitOfMeasure": {
          "type": "string"
        },
        "cdi:uses": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "properties": {
                  "@id": {
                    "type": "string",
                    "description": "reference to a skos concept for the property"
                  }
                }
              },
              {
                "$ref": "#/$defs/definedTerm_type"
              }
            ]
          },
          "description": "essentially the same as schema:propertyID."
        }
      },
      "allOf": [
        {
          "required": [
            "@type",
            "schema:name",
            "schema:description"
          ]
        }
      ]
    },
    "generatedBy_type": {
      "title": "very simple links or names of software or instruments used to generate a resource.",
      "type": "object",
      "properties": {
        "@type": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "contains": {
            "const": "prov:Activity"
          }
        },
        "prov:used": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "object",
                "properties": {
                  "@id": {
                    "type": "string",
                    "description": "a resolvable reference to a representation of the software or instrument used"
                  }
                }
              }
            ]
          }
        }
      }
    },
    "derivedFrom_type": {
      "title": "very simple links or names of data sources used to generate the described resource.",
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "object",
          "properties": {
            "@id": {
              "type": "string",
              "description": "a resolvable reference to a representation of the data source"
            }
          }
        },
        {
          "$ref": "#/$defs/labeledLink_type"
        }
      ]
    },
    "qualityMeasure_type": {
      "title": "definitions for simple quality measure property",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "dqv:QualityMeasurement"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "dqv:QualityMeasurement"
              }
            }
          ]
        },
        "dqv:isMeasurementOf": {
          "description": "specify the quality measure that is reported, by name, with an ID ref, or as a Defined Term",
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "object",
              "properties": {
                "@id": {
                  "type": "string",
                  "description": "a resolvable reference to a representation of a quality measure"
                }
              }
            },
            {
              "$ref": "#/$defs/definedTerm_type"
            }
          ]
        },
        "dqv:value": {
          "description": "the reported result of the quality measure, either as a string or a defined term from a vocabulary",
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/$defs/definedTerm_type"
            }
          ]
        }
      },
      "required": [
        "dqv:isMeasurementOf",
        "dqv:value"
      ]
    },
    "labeledLink_type": {
      "description": "schema for a labeled link, a profile of schema.org/CreativeWork, but any schema.org CreativeWork property could be included.",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "type": "string",
              "const": "schema:CreativeWork"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              },
              "contains": {
                "const": "schema:CreativeWork"
              }
            }
          ]
        },
        "schema:name": {
          "type": "string"
        },
        "schema:description": {
          "type": "string"
        },
        "schema:url": {
          "type": "string",
          "format": "uri"
        }
      },
      "required": [
        "@type",
        "schema:url"
      ]
    }
  }
}
